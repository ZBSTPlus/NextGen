---
layout: default
title: Classic Josephus problem
---
    <style>
        body {
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
        }

        .circle {
            fill: lightblue;
            cursor: pointer;
        }

        .circle:hover,
        .selected {
            fill: yellow; /* Change color to yellow on hover and when selected */
        }

        .eliminated {
            fill: red;
        }
    </style>

<body class="container text-center">
    <h1 class="my-10">Josephus Problem Game</h1>
    <div class="row justify-content-center">
        <div class="col-lg-6">
            <svg id="circle" width="400" height="400"></svg>
        </div>
    </div>
    <div class="row justify-content-center my-4">
        <div class="col-md-6">
            <p>Enter the number of circles:</p>
            <input type="number" id="totalCircles" class="form-control mb-3" placeholder="Enter the number of circles">
            <h2 class="mt-3" id="result"></h2>
            <button class="btn btn-primary mt-3" onclick="startGame()">Start Game</button>
            <button class="btn btn-secondary mt-3" onclick="restartGame()">Restart</button>
            <p>Guess the survivor position (starting from 1):</p>
            <input type="number" id="guess" class="form-control mb-3" placeholder="Enter your guess">
            <button class="btn btn-primary mt-3" onclick="submitGuess()">Submit Guess</button>
        </div>
    </div>

    <script>
        const svg = document.getElementById("circle");
        let selectedCircles = [];
        let totalCircles;

        function createCircle(numCircles) {
            let circle = '';

            for (let i = 0; i < numCircles; i++) {
                const angle = (2 * Math.PI / numCircles) * i;
                const x = 200 + 150 * Math.cos(angle);
                const y = 200 + 150 * Math.sin(angle);
                circle += `<circle class="circle" cx="${x}" cy="${y}" r="20" data-position="${i + 1}" />
                            <text x="${x}" y="${y + 7}" font-size="16" text-anchor="middle">${i + 1}</text>`;
            }

            svg.innerHTML = circle;
            addCircleListeners();
        }

        function addCircleListeners() {
            const circles = svg.getElementsByClassName("circle");
            Array.from(circles).forEach(circle => {
                circle.addEventListener("click", function () {
                    const position = parseInt(this.getAttribute("data-position"));
                    if (selectedCircles.includes(position)) {
                        selectedCircles = selectedCircles.filter(num => num !== position);
                        this.classList.remove("selected");
                    } else {
                        selectedCircles.push(position);
                        this.classList.add("selected");
                    }
                    document.getElementById("result").textContent = "";
                });
            });
        }

        function startGame() {
            totalCircles = parseInt(document.getElementById("totalCircles").value);

            if (isNaN(totalCircles) || totalCircles < 1) {
                alert("Please enter a valid number for total circles.");
                return;
            }

            selectedCircles = [];
            document.getElementById("result").textContent = "";
            createCircle(totalCircles);
        }

        function submitGuess() {
            const guessedPosition = parseInt(document.getElementById("guess").value);
            if (isNaN(guessedPosition) || guessedPosition < 1 || guessedPosition > totalCircles) {
                alert("Invalid guess. Please enter a number between 1 and " + totalCircles + ".");
                return;
            }

            const survivorPosition = josephus(totalCircles);
            const resultDiv = document.getElementById("result");
            if (guessedPosition === survivorPosition) {
                resultDiv.textContent = `Congratulations! Your guess ${guessedPosition} is correct. The survivor is in position ${survivorPosition}.`;
            } else {
                resultDiv.textContent = `Sorry, your guess ${guessedPosition} is incorrect. The survivor is in position ${survivorPosition}.`;
            }
        }

        function josephus(n) {
            if (n === 1) {
                return 1;
            } else {
                return (josephus(n - 1) + 2 - 1) % n + 1; // Always eliminate every 2nd person (k = 2)
            }
        }

        function restartGame() {
            document.getElementById("totalCircles").value = "";
            document.getElementById("guess").value = "";
            selectedCircles = [];
            document.getElementById("result").textContent = "";
            svg.innerHTML = "";
        }
    </script>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-C6RzsynM9kWDrMNeT87bh95OGNyZPhcTNXj1NW7RuBCsyN/o0jlpcV8Qyq46cDfL"
        crossorigin="anonymous"></script>
</body>
